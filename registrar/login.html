<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-874">
    <meta name="description" content="ระบบทะเบียนและประเมินผลนักศึกษา">
    <meta name="keywords" content="reg,sut.ac.th,sut">
    <link rel="STYLESHEET" type="text/css" href="style/STYLE.css" charset="windows-874">
    <link rel="STYLESHEET" type="text/css" href="style/STYLE_Font.css" charset="windows-874">
    <script type="text/javascript" src="jQuery/jquery.js"></script>
    <script type="text/javascript" src="jQuery/jquery.alphanumeric.js"></script>
    
    
    <title>ระบบทะเบียนและประเมินผล มหาวิทยาลัยเทคโนโลยีสุรนารี </title>
    
    </head>
    
    
    <body topmargin="0" leftmargin="0" marginwidth="0" marginheight="0" bgcolor="#FFFFFF" text="#000000" alink="#003399" link="#003399" vlink="#003399">
    
    
    
    
    
    
    <table border="0" cellpadding="0" cellspacing="0">
    <tbody><tr valign="TOP" bgcolor="#515151">
    <td>
    
    
    <!-- Begin Menu -->
    <table border="0" cellspacing="0" cellpadding="0">
    <tbody><tr><td><a href="http://www.sut.ac.th/ces"><img src="images/thai/logo/u_logo.gif" border="0"></a> 
    
    <!-- <CENTER><font size="1" color="white">
    9/19/2024 8:35:29 PM</font></CENTER> --></td></tr>
    <tr><td height="36">&nbsp;</td></tr>
    <tr valign="MIDDLE"><td height="25" align="MIDDLE">
    <a href="http://reg6.sut.ac.th/registrar/home.asp">
    <img src="images/thai/menu/1stpage_1.gif" width="152" height="22" border="0"></a></td></tr>
    <tr valign="MIDDLE"><td height="25" align="MIDDLE">
    <a href="Repassword.html">
    <img src="images/thai/menu/Resetpassword.GIF" width="152" height="22" border="0"></a></td></tr>
    <tr><td height="190">&nbsp;</td></tr>
    </tbody></table>
    <!-- End Menu -->
    </td>
    
    <!-- Vertical Bar -->
    <td width="3" bgcolor="#FFFFA0">&nbsp;</td>
    <td bgcolor="#FFFFFF">
    
    <!-- Begin Page Detail -->
    <img src="images/thai/banner/WelcomeMain.jpg" width="800" height="120">
    
    <form onsubmit="event.preventDefault(); login();">
    <div align="CENTER">
    <br>
    <table border="0" cellspacing="0" cellpadding="3"><tbody><tr valign="TOP"><td width="10"></td><td><font face="CordiaUPC" color="#FF0000" size="6"><b>กรุณาป้อนรหัสประจำตัวและรหัสผ่าน</b></font></td></tr></tbody></table>
    
    <table border="0" cellpadding="0" cellspacing="3">
    
    <tbody><tr>
    <td rowspan="4" valign="TOP"><img src="images/common/misc/key.gif" width="60" height="100"></td>
    <td rowspan="4" width="10"></td>
    <td><font size="4" face="MS Sans Serif">รหัสประจำตัว</font></td>
    <td>
    <input type="TEXT" name="f_uid" size="15" value="">
    </td>
    </tr>
    
    <tr>
    <td><font size="4" face="MS Sans Serif">รหัสผ่าน</font></td>
    <td><input type="PASSWORD" name="f_pwd" size="15"><input type="HIDDEN" name="BUILDKEY" value="60027"></td>
    </tr>
    
    <tr>
    <td></td>
    <td>
    <font face="MS Sans Serif"><input type="SUBMIT" value="&nbsp;ตรวจสอบ&nbsp;"></font>
    </td>
    </tr>
    
    <tr>
    <td></td>
    <td>
    <font face="MS Sans Serif"><a href="http://reg4.sut.ac.th/registrar/Get_Pass_Officer.asp?lang=0">ลืมรหัสผ่าน</a></font>
    </td>
    </tr>
    
    </tbody></table>
    
    <br><font face="MS Sans Serif" color="#FF0000" size="3" id="err_msg">
    
    </font>
    
    </div>
    </form>
    <!-- End Page Detail -->
    <table border="0" bordercolor="#FF9900" cellspacing="0" cellpadding="3" width="800"><tbody><tr height="30"><td colspan="2"></td></tr><tr height="30"><td colspan="2"><hr></td></tr><tr><td width="50"></td><td width="530" bgcolor="#FFFFFF"><font size="3" face="MS" sans="" serif="" color="#FF6600"><br><b><u>สำหรับนักศึกษา</u> หากท่านกระทำการแทนผู้อื่นให้ได้รับความเสียหาย ท่านมีสิทธิ์ได้รับโทษสูงสุด คือ <u>พักการศึกษา</u> </b></font><br><font size="2" face="MS" sans="" serif="" color="#660000"><br><b>Password</b> ไม่ควรใช้เลขประจำตัวประชาชนของตนเอง และไม่ควรให้ผู้ใดรู้ เพราะอาจมีผู้ไม่ประสงค์ดีใช้ Password ของท่าน Login เข้าสู่ระบบและทำการแทนท่าน เช่น ลดรายวิชา เพิ่มรายวิชา </font><br><font size="2" face="MS" sans="" serif=""><b><u>คำแนะนำในการตั้ง Password หรือ รหัสผ่าน</u></b></font><br><font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;1. ความยาว ควรตั้งอย่างน้อย 8 ตัวอักษร</font><br> <font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;2. ไม่ควรประสมด้วยสัญลักษณ์พิเศษ </font><br> <font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;3. ไม่ควรตั้งชื่อ โดยใช้ เช่น ชื่อตัวเอง เบอร์โทรศัพท์ ชื่อแฟน เป็นต้น </font><br> <font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;4. ไม่ควรตั้งชื่อ ที่สามารถอ่านได้และมีความหมาย</font><br> <font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;5. <b>ควรเปลี่ยน password อย่างน้อย 1 เดือนครั้ง</b> </font> <br><font size="2" face="MS" sans="" serif="">&nbsp;&nbsp;6. ไม่ควรจด password ลงในเอกสาร</font> </td></tr></tbody></table></td>
    </tr>
    
    <!-- Footer -->
    
    
    
    <tr>
    <td width="173" height="20" bgcolor="#515151">&nbsp;</td>
    <td width="3" bgcolor="#FFFFA0">&nbsp;</td>
    <td></td>
    </tr>
    
    <tr>
    <td width="173" align="CENTER" bgcolor="#515151"></td>
    <!-- ยกเลิก logo AVS
    <TD WIDTH=173 ALIGN=CENTER BGCOLOR=#515151><A HREF=http://www.avs.co.th><IMG SRC= images/thai/logo/avs3d_1.gif WIDTH=88 HEIGHT=29 BORDER=0></A></TD>
    -->
    <td width="3" bgcolor="#FFFFA0">&nbsp;</td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;<a name="bottom" href="#top"><img src="images/common/button/go_top_1.gif" width="129" height="29" border="0"></a>
    
    <!-- ลบ script sms ออกไป -->
    
    <br>
    <font size="-2" color="gray">&nbsp;&nbsp;&nbsp;&nbsp;- การแสดงผลที่เหมาะสมแนะนำให้ใช้ browser เป็น Internet Explorer Version 5.0 ขึ้นไป<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;และขนาดความกว้างหน้าจอ (Screen Area) เป็น 1024x768 pixels</font>
    
    
    
    
    </td></tr><tr>
    <td width="173" bgcolor="#515151">&nbsp;</td>
    <td width="3" bgcolor="#FFFFA0">&nbsp;</td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;<b><font face="tahoma" size="1" color="#000000">contact :<a href="mailto:"> <font color="#A00000" face="tahoma">ศูนย์บริการการศึกษา อาคารเรียนรวม 2 ทุกวันทำการ เวลา 8.30-16.30 น.</font></a></font></b></td>
    </tr>
    
    
    
    <tr>
    <td width="173" bgcolor="#515151">&nbsp;</td>
    <td width="3" bgcolor="#FFFFA0">&nbsp;</td>
    <td></td>
    </tr>
    
    
    
    
    </tbody></table>
    <script>
        // Function to handle login
        const msg = queryStringToObject(window.location.search).msg 
        const f_uid = queryStringToObject(window.location.search).f_uid;
        if (msg) {
          document.getElementById("err_msg").innerHTML = msg;
        }
        if(f_uid) {
          document.getElementsByName("f_uid")[0].value = f_uid
        }
        function queryStringToObject(queryString) {
          const pairs = queryString.substring(1).split('&');
        
          var array = pairs.map((el) => {
            const parts = el.split('=');
            return parts;
          });
        
          return Object.fromEntries(array);
        }
        const login = async () => {
            const username = document.getElementsByName("f_uid")[0].value;
            const password = document.getElementsByName("f_pwd")[0].value;
            
            let headersList = {
                "Accept": "*/*",
                "User-Agent": "Thunder Client (https://www.thunderclient.com)",
                "Content-Type": "application/json"
            };
            
            let bodyContent = JSON.stringify({
                "f_uid": username,
                "f_pwd": password
            });
            
            let response = await fetch("http://localhost:3001/api/v1/validate", {
                method: "POST",
                body: bodyContent,
                headers: headersList
            });
            
            let data = await response.json();
            console.log(window.encodeURIComponent(data.msg));
            if (data.msg != undefined) {
              
             
                window.location.href = `login.html?f_uid=${username}&msg=`+window.encodeURI(data.msg);
            } else {
                window.location.href = "https://reg4.sut.ac.th/registrar/login.asp?f_uid="+username+"&msg=SYSTEM+FAIL+TO+VALIDATE";
            }
        }

        // Function to get query parameters
        const getQueryParams = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const f_uid = urlParams.get('f_uid');
            const msg = urlParams.get('msg');
            
            // Display the values in your HTML or use them in your logic
            if (msg) {
                document.getElementById("err_msg").innerHTML = msg;
            }
        }

        // Call the function to retrieve query params on page load
        window.onload = getQueryParams;
    </script>
    
    
    
    
    </body></html>